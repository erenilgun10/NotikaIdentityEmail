@using Microsoft.AspNetCore.Identity
@model List<Comment>
@{
    ViewData["Title"] = "User Comments";
    Layout = "~/Views/UserLayout/Index.cshtml";
}

<style>
    :root {
        --forum-accent: #515ae2;
        --forum-muted: #64748b;
    }

    .forum-board {
        max-width: 820px;
        margin: 0 auto;
    }

    .forum-header {
        border-bottom: 1px solid #e2e8f0;
        padding-bottom: 1rem;
    }

    .forum-title {
        letter-spacing: 0.02em;
    }

    .forum-chip {
        min-width: 120px;
        font-weight: 600;
        border: 1px solid rgba(81, 90, 226, 0.3);
        color: var(--forum-accent);
        background: rgba(81, 90, 226, 0.08);
    }

    .forum-card {
        border-radius: 1rem;
        border: 1px solid #eef2ff;
        transition: transform 140ms ease, box-shadow 140ms ease;
    }

        .forum-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 1.25rem 2rem rgba(15, 23, 42, 0.12);
        }

    .forum-empty {
        border: 1px dashed rgba(81, 90, 226, 0.4);
        border-radius: 1.25rem;
        background: rgba(81, 90, 226, 0.06);
    }

    .forum-author {
        color: #0f172a;
    }

    .forum-date {
        color: var(--forum-muted);
    }
</style>

<section class="container py-5 forum-board">
    <header class="forum-header d-flex justify-content-between align-items-center flex-wrap gap-3 mb-4">
        <div>
            <p class="fs-3 fw-semibold text-dark mb-1 forum-title">Forum</p>
            <p class="text-secondary mb-0">Minimalist topluluk sohbeti</p>
        </div>
        <span class="badge rounded-pill forum-chip px-3 py-2">
            @((Model?.Count) ?? 0) yorum
        </span>
    </header>

    @if (!(Model?.Any() ?? false))
    {
        <div class="forum-empty text-center p-5">
            <h3 class="fw-semibold text-dark mb-2">Henüz yorum yok</h3>
            <p class="text-secondary mb-0">İlk mesajını paylaşarak sohbeti başlat.</p>
        </div>
    }
    else
    {
        <div class="d-flex flex-column gap-3">
            @foreach (var item in Model)
            {
                <article class="card forum-card shadow-sm">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-baseline flex-wrap gap-2 mb-2">
                            <span class="fw-semibold forum-author">
                                @item.AppUser.FirstName @item.AppUser.LastName
                            </span>
                            <span class="small forum-date">
                                @item.CommentDate.ToString("dd MMM yyyy")
                            </span>
                        </div>
                        <p class="mb-0 text-body-secondary">@item.CommentDetail</p>
                    </div>
                </article>
            }
        </div>
    }
</section>